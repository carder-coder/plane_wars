# é£æœºå¤§æˆ˜ç½‘ç»œåŒ–å¢å¼ºç‰ˆ

åŸºäºåŸæœ‰å•æœºé£æœºå¤§æˆ˜æ¸¸æˆï¼Œå®ç°äº†å¤šäººåœ¨çº¿å¯¹æˆ˜åŠŸèƒ½çš„å®Œæ•´ç½‘ç»œåŒ–æ¸¸æˆç³»ç»Ÿã€‚

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®å°†åŸæœ‰çš„å•æœºé£æœºå¤§æˆ˜æ¸¸æˆæ‰©å±•ä¸ºæ”¯æŒå¤šäººåœ¨çº¿å¯¹æˆ˜çš„ç½‘ç»œæ¸¸æˆï¼ŒåŒ…å«ï¼š

- **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ** - æ³¨å†Œã€ç™»å½•ã€ä¼šè¯ç®¡ç†
- **æˆ¿é—´ç®¡ç†ç³»ç»Ÿ** - åˆ›å»ºæˆ¿é—´ã€åŠ å…¥æˆ¿é—´ã€å®æ—¶åŒ¹é…
- **ç½‘ç»œå¯¹æˆ˜åŠŸèƒ½** - å®æ—¶å¤šäººæ¸¸æˆåŒæ­¥
- **å®Œæ•´çš„æœåŠ¡ç«¯æ¶æ„** - Express + Socket.IO + PostgreSQL + Redis

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
å‰ç«¯ (React + TypeScript)
â”œâ”€â”€ ç”¨æˆ·ç•Œé¢å±‚ (Reactç»„ä»¶)
â”œâ”€â”€ çŠ¶æ€ç®¡ç†å±‚ (Zustand)
â”œâ”€â”€ ç½‘ç»œé€šä¿¡å±‚ (Socket.IO Client + HTTP Client)
â””â”€â”€ æ¸¸æˆé€»è¾‘å±‚ (æ¸¸æˆå¼•æ“)

åç«¯ (Node.js + Express)
â”œâ”€â”€ APIæ¥å£å±‚ (REST API)
â”œâ”€â”€ å®æ—¶é€šä¿¡å±‚ (Socket.IO)
â”œâ”€â”€ ä¸šåŠ¡é€»è¾‘å±‚ (æœåŠ¡å±‚)
â”œâ”€â”€ æ•°æ®è®¿é—®å±‚ (PostgreSQL + Redis)
â””â”€â”€ è®¤è¯æˆæƒå±‚ (JWT)
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18.0.0
- PostgreSQL >= 12
- Redis >= 6
- npm >= 8.0.0

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
cd airplane-battle
npm install

# å®‰è£…åç«¯ä¾èµ–
cd ../airplane-battle-server
npm install
```

### 2. é…ç½®ç¯å¢ƒ

å¤åˆ¶å¹¶é…ç½®åç«¯ç¯å¢ƒå˜é‡ï¼š

```bash
cd airplane-battle-server
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“å’ŒRedisè¿æ¥ä¿¡æ¯ï¼š

```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=5432
DB_NAME=airplane_battle
DB_USER=postgres
DB_PASSWORD=your_password

# Redisé…ç½®
REDIS_HOST=localhost
REDIS_PORT=6379

# JWTå¯†é’¥
JWT_SECRET=your-super-secret-key
```

### 3. åˆå§‹åŒ–æ•°æ®åº“

```bash
# è¿è¡Œæ•°æ®åº“è¿ç§»
npm run db:migrate

# å¯é€‰ï¼šæ·»åŠ æµ‹è¯•ç”¨æˆ·æ•°æ®
npm run db:seed
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨åç«¯æœåŠ¡å™¨ (ç«¯å£ 3001)
cd airplane-battle-server
npm run dev

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ (ç«¯å£ 5173)
cd ../airplane-battle
npm run dev
```

### 5. è®¿é—®æ¸¸æˆ

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5173`

## ğŸ® æ¸¸æˆåŠŸèƒ½

### æ ¸å¿ƒåŠŸèƒ½

1. **ç”¨æˆ·ç³»ç»Ÿ**
   - ç”¨æˆ·æ³¨å†Œä¸ç™»å½•
   - ç”¨æˆ·èµ„æ–™ç®¡ç†
   - ç­‰çº§å’Œç»éªŒç³»ç»Ÿ

2. **æˆ¿é—´ç³»ç»Ÿ**
   - åˆ›å»ºå…¬å¼€/ç§äººæˆ¿é—´
   - æˆ¿é—´åˆ—è¡¨æµè§ˆ
   - å¿«é€ŸåŒ¹é…åŠŸèƒ½

3. **æ¸¸æˆå¯¹æˆ˜**
   - å®æ—¶åŒäººå¯¹æˆ˜
   - é£æœºæ”¾ç½®é˜¶æ®µ
   - å›åˆåˆ¶æ”»å‡»ç³»ç»Ÿ
   - èƒœè´Ÿåˆ¤å®š

4. **ç½‘ç»œåŠŸèƒ½**
   - å®æ—¶çŠ¶æ€åŒæ­¥
   - æ–­çº¿é‡è¿æ”¯æŒ
   - è§‚æˆ˜åŠŸèƒ½

### æ¸¸æˆè§„åˆ™

1. æ¯ä½ç©å®¶åœ¨10x10ç½‘æ ¼ä¸­æ”¾ç½®ä¸€æ¶é£æœº
2. é£æœºç”±æœºå¤´ã€æœºç¿…ã€æœºèº«ã€æœºå°¾ç»„æˆ
3. è½®æµæ”»å‡»å¯¹æ–¹ç½‘æ ¼
4. é¦–å…ˆå‡»ä¸­å¯¹æ–¹æœºå¤´çš„ç©å®¶è·èƒœ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 19** - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScript
- **Zustand** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- **Ant Design** - UIç»„ä»¶åº“
- **Socket.IO Client** - WebSocketå®¢æˆ·ç«¯
- **Vite** - æ„å»ºå·¥å…·

### åç«¯
- **Node.js** - JavaScriptè¿è¡Œæ—¶
- **Express** - Webåº”ç”¨æ¡†æ¶
- **Socket.IO** - å®æ—¶é€šä¿¡
- **PostgreSQL** - å…³ç³»å‹æ•°æ®åº“
- **Redis** - å†…å­˜æ•°æ®åº“/ç¼“å­˜
- **JWT** - èº«ä»½è®¤è¯
- **bcrypt** - å¯†ç åŠ å¯†

## ğŸ“ é¡¹ç›®ç»“æ„

```
airplane-battle/                 # å‰ç«¯é¡¹ç›®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/              # Reactç»„ä»¶
â”‚   â”œâ”€â”€ store/                   # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ types/                   # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ ...
â””â”€â”€ package.json

airplane-battle-server/          # åç«¯é¡¹ç›®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/             # æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ services/                # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ models/                  # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ routes/                  # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ middlewares/             # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ database/                # æ•°æ®åº“ç›¸å…³
â”‚   â”œâ”€â”€ config/                  # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ types/                   # ç±»å‹å®šä¹‰
â””â”€â”€ package.json
```

## ğŸ”§ å¼€å‘æŒ‡å—

### APIæ¥å£

#### è®¤è¯æ¥å£
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º
- `GET /api/auth/profile` - è·å–ç”¨æˆ·èµ„æ–™

#### æˆ¿é—´æ¥å£
- `GET /api/rooms` - è·å–æˆ¿é—´åˆ—è¡¨
- `POST /api/rooms` - åˆ›å»ºæˆ¿é—´
- `POST /api/rooms/join` - åŠ å…¥æˆ¿é—´
- `DELETE /api/rooms/:id/leave` - ç¦»å¼€æˆ¿é—´

### WebSocketäº‹ä»¶

#### æˆ¿é—´äº‹ä»¶
- `JOIN_ROOM` - åŠ å…¥æˆ¿é—´
- `LEAVE_ROOM` - ç¦»å¼€æˆ¿é—´
- `PLAYER_JOINED` - ç©å®¶åŠ å…¥é€šçŸ¥
- `PLAYER_LEFT` - ç©å®¶ç¦»å¼€é€šçŸ¥

#### æ¸¸æˆäº‹ä»¶
- `PLACE_AIRPLANE` - æ”¾ç½®é£æœº
- `ATTACK` - å‘èµ·æ”»å‡»
- `ATTACK_RESULT` - æ”»å‡»ç»“æœ
- `GAME_END` - æ¸¸æˆç»“æŸ

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œå‰ç«¯æµ‹è¯•
cd airplane-battle
npm test

# è¿è¡Œåç«¯æµ‹è¯•
cd airplane-battle-server
npm test
```

## ğŸ“¦ éƒ¨ç½²

### Dockeréƒ¨ç½² (æ¨è)

```bash
# æ„å»ºé•œåƒ
docker-compose build

# å¯åŠ¨æœåŠ¡
docker-compose up -d
```

### æ‰‹åŠ¨éƒ¨ç½²

1. æ„å»ºå‰ç«¯
```bash
cd airplane-battle
npm run build
```

2. é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡

3. å¯åŠ¨åç«¯æœåŠ¡
```bash
cd airplane-battle-server
npm start
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   - æ£€æŸ¥PostgreSQLæœåŠ¡æ˜¯å¦å¯åŠ¨
   - éªŒè¯æ•°æ®åº“è¿æ¥é…ç½®

2. **Redisè¿æ¥å¤±è´¥**
   - æ£€æŸ¥RedisæœåŠ¡æ˜¯å¦å¯åŠ¨
   - éªŒè¯Redisè¿æ¥é…ç½®

3. **WebSocketè¿æ¥å¤±è´¥**
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
   - ç¡®è®¤CORSé…ç½®æ­£ç¡®

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ”— ç›¸å…³é“¾æ¥

- [React æ–‡æ¡£](https://react.dev/)
- [Socket.IO æ–‡æ¡£](https://socket.io/docs/v4/)
- [Express æ–‡æ¡£](https://expressjs.com/)
- [PostgreSQL æ–‡æ¡£](https://www.postgresql.org/docs/)

---

**æ³¨æ„ï¼š** è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºé¡¹ç›®ï¼ŒåŒ…å«äº†å®Œæ•´çš„ç½‘ç»œåŒ–æ¸¸æˆæ¶æ„è®¾è®¡å’Œå®ç°ã€‚å¯ä»¥ä½œä¸ºå­¦ä¹ å¤šäººåœ¨çº¿æ¸¸æˆå¼€å‘çš„å‚è€ƒã€‚